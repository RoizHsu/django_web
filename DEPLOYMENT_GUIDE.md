# ğŸš€ æ—¥æ›†ç³»çµ±éƒ¨ç½²æŒ‡å—

## ğŸ“‹ æ”¹é€²ç¸½çµ

### å·²ä¿®å¾©çš„å•é¡Œ

1. âœ… **Vue èªæ³•éŒ¯èª¤**
   - ä¿®å¾©: `v_for` â†’ `v-for`
   - ä¿®å¾©: `{{ }}` â†’ `[[ ]]` (Vue è‡ªå®šç¾©åˆ†éš”ç¬¦)
   
2. âœ… **ç§»é™¤ä¸å…¼å®¹çš„èªæ³•**
   - ç§»é™¤: `<script setup>` (ä¸é©ç”¨æ–¼ CDN ç‰ˆæœ¬)
   - ç§»é™¤: `import` èªå¥ (ç€è¦½å™¨ä¸æ”¯æŒ)
   
3. âœ… **é‡æ§‹ Vue æ‡‰ç”¨**
   - ä½¿ç”¨æ¨™æº– Vue 3 CDN èªæ³•
   - æ­£ç¢ºçš„æ‡‰ç”¨åˆå§‹åŒ–
   - åˆ†é›¢çš„ Vue å¯¦ä¾‹ (è¡¨å–® + æ—¥æ›†)

4. âœ… **å‰µå»º API ç«¯é»**
   - æ–°å¢: `/register/api/calendar-shifts/`
   - è¿”å›: å“¡å·¥å’Œç­æ¬¡æ•¸æ“š

5. âœ… **å„ªåŒ–æ¨£å¼**
   - æ”¹é€² CSS Grid ä½ˆå±€
   - æ·»åŠ æ‡¸åœæ•ˆæœ
   - éŸ¿æ‡‰å¼è¨­è¨ˆ

6. âœ… **å·¥å…·å’Œæ–‡æª”**
   - å‰µå»ºç®¡ç†å‘½ä»¤: `add_calendar_data`
   - å®Œæ•´çš„ä½¿ç”¨èªªæ˜æ–‡æª”

## ğŸ¯ å¿«é€Ÿæ¸¬è©¦æ­¥é©Ÿ

### æ­¥é©Ÿ 1: æ·»åŠ æ¸¬è©¦æ•¸æ“š

æ‰“é–‹çµ‚ç«¯ä¸¦åŸ·è¡Œ:

```bash
python manage.py add_calendar_data
```

æ‚¨æ‡‰è©²çœ‹åˆ°é¡ä¼¼è¼¸å‡º:

```
é–‹å§‹æ·»åŠ æ¸¬è©¦æ•¸æ“š...

âœ“ ç‚º admin å‰µå»ºç­æ¬¡: ç³»çµ±ç¶­è­· (08:00 - 12:00)
âœ“ ç‚º user1 å‰µå»ºç­æ¬¡: å®¢æˆ¶æ”¯æ´ (09:00 - 17:00)
...

============================================================
âœ“ å®Œæˆ! å…±å‰µå»º 4 å€‹ç­æ¬¡è¨˜éŒ„
ğŸ“Š ç›®å‰ç¸½å…±æœ‰ 4 å€‹ç­æ¬¡è¨˜éŒ„
============================================================
```

### æ­¥é©Ÿ 2: å•Ÿå‹•é–‹ç™¼æœå‹™å™¨

```bash
python manage.py runserver
```

### æ­¥é©Ÿ 3: æ¸¬è©¦æ—¥æ›†åŠŸèƒ½

1. **è¨ªå•é é¢**
   - æ‰“é–‹ç€è¦½å™¨è¨ªå•: http://localhost:8000/repair/

2. **åˆ‡æ›åˆ°æ—¥æ›†**
   - é»æ“Šé ‚éƒ¨å°èˆªçš„ã€ŒğŸ“… æ—¥æ­·ã€æ¨™ç±¤

3. **é©—è­‰é¡¯ç¤º**
   - æ‡‰è©²çœ‹åˆ° 24 å°æ™‚æ™‚é–“è»¸
   - æ‡‰è©²çœ‹åˆ°å“¡å·¥åˆ—è¡¨
   - æ‡‰è©²çœ‹åˆ°å½©è‰²çš„ç­æ¬¡å€å¡Š

4. **æ¸¬è©¦äº’å‹•**
   - å°‡æ»‘é¼ æ‡¸åœåœ¨ç­æ¬¡å€å¡Šä¸Š
   - æ‡‰è©²çœ‹åˆ°æ‡¸åœæ•ˆæœå’Œè©³ç´°æè¿°

### æ­¥é©Ÿ 4: æª¢æŸ¥ API

ç›´æ¥è¨ªå• API ç«¯é»:

```
http://localhost:8000/register/api/calendar-shifts/
```

æ‡‰è©²è¿”å› JSON æ•¸æ“š:

```json
{
  "success": true,
  "employees": [
    {
      "id": 1,
      "name": "ç®¡ç†å“¡",
      "shifts": [...]
    }
  ]
}
```

## ğŸ” æ•…éšœæ’é™¤

### å•é¡Œ 1: é é¢é¡¯ç¤º "[[ h-1 ]]" æ–‡å­—

**åŸå› **: Vue æ‡‰ç”¨æœªæ­£ç¢ºåˆå§‹åŒ–

**è§£æ±ºæ–¹æ¡ˆ**:
1. æ‰“é–‹ç€è¦½å™¨é–‹ç™¼è€…å·¥å…· (F12)
2. æŸ¥çœ‹ Console æ˜¯å¦æœ‰éŒ¯èª¤
3. ç¢ºèª Vue.js CDN æ­£å¸¸è¼‰å…¥
4. æª¢æŸ¥ JavaScript æ˜¯å¦æœ‰èªæ³•éŒ¯èª¤

### å•é¡Œ 2: æ—¥æ›†é¡¯ç¤ºã€Œæš«ç„¡å“¡å·¥ç­æ¬¡è³‡æ–™ã€

**åŸå› **: æ•¸æ“šåº«ä¸­æ²’æœ‰æ•¸æ“š

**è§£æ±ºæ–¹æ¡ˆ**:
```bash
python manage.py add_calendar_data
```

### å•é¡Œ 3: API è¿”å› 404 éŒ¯èª¤

**åŸå› **: URL è·¯ç”±æœªæ­£ç¢ºé…ç½®

**è§£æ±ºæ–¹æ¡ˆ**:
1. ç¢ºèª [demo06/urls.py](demo06/urls.py) åŒ…å«:
   ```python
   path('register/api/calendar-shifts/', calendar_shifts_api, name='calendar_shifts_api'),
   ```
2. é‡å•Ÿé–‹ç™¼æœå‹™å™¨

### å•é¡Œ 4: ç„¡æ³•åˆ‡æ›åˆ°æ—¥æ›†æ¨™ç±¤

**åŸå› **: JavaScript æœªæ­£ç¢ºè¼‰å…¥

**è§£æ±ºæ–¹æ¡ˆ**:
1. ç¢ºèª [static/js/JavaScript.js](static/js/JavaScript.js) æ­£ç¢ºè¼‰å…¥
2. æ¸…é™¤ç€è¦½å™¨ç·©å­˜ (Ctrl + F5)
3. æŸ¥çœ‹ Console éŒ¯èª¤è¨Šæ¯

## ğŸ“ é–‹ç™¼è€…ç­†è¨˜

### æ–‡ä»¶ä¿®æ”¹æ¸…å–®

| æ–‡ä»¶ | ä¿®æ”¹å…§å®¹ |
|------|----------|
| `templates/repair.html` | ä¿®å¾© Vue èªæ³•ã€é‡æ§‹æ—¥æ›†å€å¡Š |
| `register/views.py` | æ·»åŠ  `calendar_shifts_api` å‡½æ•¸ |
| `demo06/urls.py` | æ·»åŠ  API è·¯ç”± |
| `register/management/commands/add_calendar_data.py` | æ–°å»ºç®¡ç†å‘½ä»¤ |
| `CALENDAR_README.md` | æ–°å»ºä½¿ç”¨æ–‡æª” |
| `add_test_calendar_data.py` | æ–°å»ºæ¸¬è©¦è…³æœ¬ |

### æ¶æ§‹èªªæ˜

```
å‰ç«¯ (repair.html)
  â”œâ”€ Vue æ‡‰ç”¨ #1: è¡¨å–®è™•ç† (#app)
  â””â”€ Vue æ‡‰ç”¨ #2: æ—¥æ›†é¡¯ç¤º (#calendar-app)
       â”œâ”€ æ•¸æ“šç²å–: fetch API
       â”œâ”€ æ•¸æ“šæ¸²æŸ“: v-for å¾ªç’°
       â””â”€ æ¨£å¼è¨ˆç®—: getEventStyle()

å¾Œç«¯ (Django)
  â”œâ”€ Model: Calendar_Shift (register/models.py)
  â”œâ”€ View: calendar_shifts_api (register/views.py)
  â””â”€ URL: /register/api/calendar-shifts/
```

### æ•¸æ“šæµç¨‹

```
1. ç”¨æˆ¶é»æ“Šã€Œæ—¥æ›†ã€æ¨™ç±¤
2. Vue æ‡‰ç”¨ mounted() è§¸ç™¼
3. èª¿ç”¨ fetchCalendarData()
4. ç™¼é€è«‹æ±‚åˆ° /register/api/calendar-shifts/
5. Django view æŸ¥è©¢æ•¸æ“šåº«
6. è¿”å› JSON æ•¸æ“š
7. Vue æ›´æ–° employees æ•¸çµ„
8. Vue è‡ªå‹•é‡æ–°æ¸²æŸ“ DOM
9. é¡¯ç¤ºæ—¥æ›†ç•Œé¢
```

## ğŸ¨ è‡ªå®šç¾©é…ç½®

### ä¿®æ”¹é¡è‰²ä¸»é¡Œ

ç·¨è¼¯ [repair.html](templates/repair.html) çš„ `getEventStyle` æ–¹æ³•:

```javascript
const colors = [
  '#4A90E2',  // è—è‰² - ç³»çµ±ç¶­è­·
  '#50C878',  // ç¶ è‰² - å®¢æˆ¶æ”¯æ´
  '#FF6B6B',  // ç´…è‰² - è¨­å‚™æª¢ä¿®
  '#FFD93D',  // é»ƒè‰² - å€¼ç­å¾…å‘½
  '#A78BFA',  // ç´«è‰² - ç¶²è·¯ç›£æ§
  '#FC7F3C'   // æ©™è‰² - è³‡æ–™å‚™ä»½
];
```

### æ·»åŠ æ–°çš„ç­æ¬¡é¡å‹

ç·¨è¼¯ [register/management/commands/add_calendar_data.py](register/management/commands/add_calendar_data.py):

```python
shifts_data = [
    {
        'title': 'æ‚¨çš„ç­æ¬¡åç¨±',
        'description': 'è©³ç´°æè¿°',
        'start_hour': 8,
        'end_hour': 12,
    },
    # ... æ›´å¤šç­æ¬¡
]
```

### ä¿®æ”¹æ™‚é–“é¡¯ç¤ºæ ¼å¼

åœ¨ [repair.html](templates/repair.html) ä¸­:

```html
<!-- 24å°æ™‚åˆ¶ -->
<div v-for="h in 24" :key="h" class="time-slot">[[ h-1 ]]:00</div>

<!-- 12å°æ™‚åˆ¶ (éœ€æ·»åŠ  AM/PM é‚è¼¯) -->
<div v-for="h in 24" :key="h" class="time-slot">
  [[ h <= 12 ? h : h-12 ]][[ h < 12 ? 'AM' : 'PM' ]]
</div>
```

## ğŸ“Š æ€§èƒ½å„ªåŒ–å»ºè­°

1. **æ¸›å°‘ API èª¿ç”¨**
   - å¯¦ç¾ç·©å­˜æ©Ÿåˆ¶
   - åªåœ¨æ•¸æ“šè®Šæ›´æ™‚é‡æ–°è¼‰å…¥

2. **åˆ†é æˆ–è™›æ“¬æ»¾å‹•**
   - ç•¶å“¡å·¥æ•¸é‡å¾ˆå¤šæ™‚
   - ä½¿ç”¨è™›æ“¬æ»¾å‹•åº«

3. **æ‡¶åŠ è¼‰**
   - åªè¼‰å…¥å¯è¦‹å€åŸŸçš„æ•¸æ“š
   - æ»¾å‹•æ™‚å‹•æ…‹è¼‰å…¥

4. **WebSocket å¯¦æ™‚æ›´æ–°**
   - ä½¿ç”¨ Django Channels
   - å¯¦æ™‚æ¨é€ç­æ¬¡è®Šæ›´

## ğŸ” å®‰å…¨æ€§è€ƒæ…®

1. **API æ¬Šé™æ§åˆ¶**
   ```python
   from django.contrib.auth.decorators import login_required
   
   @login_required
   def calendar_shifts_api(request):
       # ...
   ```

2. **æ•¸æ“šéæ¿¾**
   - åªè¿”å›ç”¨æˆ¶æœ‰æ¬ŠæŸ¥çœ‹çš„æ•¸æ“š
   - å¯¦ç¾åŸºæ–¼è§’è‰²çš„è¨ªå•æ§åˆ¶

3. **è¼¸å…¥é©—è­‰**
   - é©—è­‰æ—¥æœŸç¯„åœ
   - é˜²æ­¢ SQL æ³¨å…¥

## ğŸ“š ç›¸é—œè³‡æº

- [Vue.js 3 æ–‡æª”](https://v3.vuejs.org/)
- [Django æ–‡æª”](https://docs.djangoproject.com/)
- [CSS Grid æŒ‡å—](https://css-tricks.com/snippets/css/complete-guide-grid/)

## ğŸ¤ æ”¯æ´

å¦‚é‡å•é¡Œ,è«‹æª¢æŸ¥:
1. ç€è¦½å™¨ Console éŒ¯èª¤è¨Šæ¯
2. Django é–‹ç™¼æœå‹™å™¨æ—¥èªŒ
3. API è¿”å›æ•¸æ“šæ ¼å¼

---

**ç‰ˆæœ¬**: 1.0.0  
**æœ€å¾Œæ›´æ–°**: 2026-02-12  
**ä½œè€…**: GitHub Copilot
