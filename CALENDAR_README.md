# ğŸ“… æ—¥æ›†ç³»çµ±ä½¿ç”¨èªªæ˜

## ç³»çµ±åŠŸèƒ½

é€™æ˜¯ä¸€å€‹å“¡å·¥ç­æ¬¡ç®¡ç†æ—¥æ›†ç³»çµ±,å¯ä»¥è¦–è¦ºåŒ–é¡¯ç¤ºå“¡å·¥çš„æ’ç­ä¿¡æ¯ã€‚

### ä¸»è¦ç‰¹é»

- âœ… 24å°æ™‚æ™‚é–“è»¸é¡¯ç¤º
- âœ… å¤šå“¡å·¥åŒæ™‚é¡¯ç¤º
- âœ… å½©è‰²å€å¡Šè¡¨ç¤ºä¸åŒç­æ¬¡
- âœ… æ»‘é¼ æ‡¸åœé¡¯ç¤ºè©³ç´°è³‡è¨Š
- âœ… éŸ¿æ‡‰å¼è¨­è¨ˆ
- âœ… ä½¿ç”¨ Vue 3 å‹•æ…‹æ¸²æŸ“

## å¿«é€Ÿé–‹å§‹

### 1. æ·»åŠ æ¸¬è©¦æ•¸æ“š

**æ¨è–¦æ–¹å¼ - ä½¿ç”¨ç®¡ç†å‘½ä»¤ (æœ€ç°¡å–®):**

```bash
# æ·»åŠ æ¸¬è©¦æ•¸æ“š
python manage.py add_calendar_data

# æ¸…é™¤èˆŠæ•¸æ“šä¸¦é‡æ–°æ·»åŠ 
python manage.py add_calendar_data --clear
```

**å…¶ä»–æ–¹å¼:**

```bash
# æ–¹å¼äºŒ: ä½¿ç”¨ Django shell
python manage.py shell < add_test_calendar_data.py

# æ–¹å¼ä¸‰: åœ¨ Django shell ä¸­æ‰‹å‹•åŸ·è¡Œ
python manage.py shell
>>> exec(open('add_test_calendar_data.py').read())
```

### 2. åœ¨ç®¡ç†å¾Œå°æ·»åŠ æ•¸æ“š

è¨ªå• http://localhost:8000/admin/ ä¸¦ç™»å…¥

- æ‰¾åˆ°ã€Œå“¡å·¥è¡Œäº‹æ›† (Calendar_Shift)ã€
- é»æ“Šã€Œæ–°å¢å“¡å·¥è¡Œäº‹æ›†ã€
- å¡«å¯«ä»¥ä¸‹æ¬„ä½:
  - **æ´¾é£äººå“¡**: é¸æ“‡å“¡å·¥
  - **äº‹ä»¶æ¨™é¡Œ**: ä¾‹å¦‚ã€Œç³»çµ±ç¶­è­·ã€
  - **äº‹ä»¶æè¿°**: è©³ç´°èªªæ˜
  - **é–‹å§‹æ™‚é–“**: é¸æ“‡æ—¥æœŸå’Œæ™‚é–“
  - **çµæŸæ™‚é–“**: é¸æ“‡æ—¥æœŸå’Œæ™‚é–“
  - **ç™¼å¸ƒå·¥ç¨‹å¸«**: é¸æ“‡ç™¼å¸ƒäºº

### 3. æŸ¥çœ‹æ—¥æ›†

1. è¨ªå•ç¶­ä¿®å–®é é¢: http://localhost:8000/repair/
2. é»æ“Šé ‚éƒ¨çš„ã€ŒğŸ“… æ—¥æ­·ã€æ¨™ç±¤
3. ç³»çµ±æœƒè‡ªå‹•è¼‰å…¥ä¸¦é¡¯ç¤ºæ‰€æœ‰å“¡å·¥çš„ç­æ¬¡

## æ•¸æ“šçµæ§‹

### Calendar_Shift æ¨¡å‹

| æ¬„ä½ | é¡å‹ | èªªæ˜ |
|------|------|------|
| user | ForeignKey | è¢«æ´¾é£çš„å“¡å·¥ |
| title | CharField | äº‹ä»¶æ¨™é¡Œ |
| description | TextField | äº‹ä»¶æè¿° (å¯é¸) |
| start_time | DateTimeField | é–‹å§‹æ™‚é–“ |
| end_time | DateTimeField | çµæŸæ™‚é–“ |
| repair_user | ForeignKey | ç™¼å¸ƒé€™å€‹ç­æ¬¡çš„å·¥ç¨‹å¸« |

## API ç«¯é»

### GET /register/api/calendar-shifts/

è¿”å›æ‰€æœ‰å“¡å·¥åŠå…¶ç­æ¬¡æ•¸æ“š

**éŸ¿æ‡‰æ ¼å¼:**
```json
{
  "success": true,
  "employees": [
    {
      "id": 1,
      "name": "å¼µä¸‰",
      "shifts": [
        {
          "id": 1,
          "title": "ç³»çµ±ç¶­è­·",
          "description": "å®šæœŸç³»çµ±ç¶­è­·",
          "start_hour": 8,
          "end_hour": 12,
          "start_time": "2026-02-12 08:00",
          "end_time": "2026-02-12 12:00"
        }
      ]
    }
  ]
}
```

## è‡ªå®šç¾©è¨­ç½®

### ä¿®æ”¹é¡è‰²æ–¹æ¡ˆ

åœ¨ [repair.html](templates/repair.html) çš„ JavaScript éƒ¨åˆ†æ‰¾åˆ° `getEventStyle` æ–¹æ³•:

```javascript
const colors = ['#4A90E2', '#50C878', '#FF6B6B', '#FFD93D', '#A78BFA', '#FC7F3C'];
```

ä¿®æ”¹é€™å€‹æ•¸çµ„ä¾†æ”¹è®Šç­æ¬¡çš„é¡è‰²ã€‚

### èª¿æ•´æ™‚é–“ç¯„åœ

ç›®å‰é¡¯ç¤º 0-23 å°æ™‚ã€‚å¦‚æœéœ€è¦ä¿®æ”¹,åœ¨ HTML ä¸­æ‰¾åˆ°:

```html
<div v-for="h in 24" :key="h" class="time-slot">[[ h-1 ]]:00</div>
```

ä¿®æ”¹ `24` ç‚ºæ‚¨éœ€è¦çš„å°æ™‚æ•¸ã€‚

### èª¿æ•´è¡Œé«˜

åœ¨ CSS ä¸­ä¿®æ”¹ `.grid-content` çš„ `min-height`:

```css
.grid-content {
  min-height: 60px;  /* ä¿®æ”¹é€™å€‹å€¼ */
}
```

## æ•…éšœæ’é™¤

### å•é¡Œ: æ—¥æ›†é¡¯ç¤ºç©ºç™½

**è§£æ±ºæ–¹æ¡ˆ:**
1. æª¢æŸ¥æ˜¯å¦æœ‰æ·»åŠ  Calendar_Shift æ•¸æ“š
2. æ‰“é–‹ç€è¦½å™¨é–‹ç™¼è€…å·¥å…· (F12) æŸ¥çœ‹ Console æ˜¯å¦æœ‰éŒ¯èª¤
3. ç¢ºèª API ç«¯é»æ­£å¸¸é‹ä½œ: è¨ªå• http://localhost:8000/register/api/calendar-shifts/

### å•é¡Œ: ç„¡æ³•åˆ‡æ›åˆ°æ—¥æ›†æ¨™ç±¤

**è§£æ±ºæ–¹æ¡ˆ:**
1. ç¢ºèª [JavaScript.js](static/js/JavaScript.js) å·²æ­£ç¢ºè¼‰å…¥
2. æª¢æŸ¥ç€è¦½å™¨ Console æ˜¯å¦æœ‰ JavaScript éŒ¯èª¤

### å•é¡Œ: æ™‚é–“é¡¯ç¤ºä¸æ­£ç¢º

**è§£æ±ºæ–¹æ¡ˆ:**
1. ç¢ºèªæ•¸æ“šåº«ä¸­çš„ start_time å’Œ end_time æ ¼å¼æ­£ç¢º
2. æª¢æŸ¥æ™‚å€è¨­ç½® (settings.py ä¸­çš„ TIME_ZONE)

## æ“´å±•åŠŸèƒ½å»ºè­°

- [ ] æ·»åŠ å¤šæ—¥æœŸé¡¯ç¤º
- [ ] æ·»åŠ æ‹–æ‹½åŠŸèƒ½ä¾†èª¿æ•´ç­æ¬¡
- [ ] æ·»åŠ é»æ“Šäº‹ä»¶ä¾†ç·¨è¼¯ç­æ¬¡
- [ ] æ·»åŠ ç¯©é¸åŠŸèƒ½ (æŒ‰å“¡å·¥ã€æ—¥æœŸç­‰)
- [ ] æ·»åŠ åŒ¯å‡ºåŠŸèƒ½ (PDF, Excel)
- [ ] æ·»åŠ ç­æ¬¡è¡çªæª¢æ¸¬

## æŠ€è¡“æ£§

- **å‰ç«¯**: Vue.js 3 (CDN)
- **å¾Œç«¯**: Django
- **æ¨£å¼**: è‡ªå®šç¾© CSS (Grid Layout)
- **æ•¸æ“šæ ¼å¼**: JSON API

## ç›¸é—œæ–‡ä»¶

- [register/models.py](register/models.py) - æ•¸æ“šæ¨¡å‹å®šç¾©
- [register/views.py](register/views.py) - API è¦–åœ–
- [templates/repair.html](templates/repair.html) - æ—¥æ›†ç•Œé¢
- [demo06/urls.py](demo06/urls.py) - URL è·¯ç”±é…ç½®
